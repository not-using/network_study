# 과제에 대한 코드리뷰 기록
## 요약
- 과제 의도를 제대로 파악해야
- 기본적인 패킷 식별과 데이터처리는 잘 구현했지만 
- 여러 패킷의 경계를 구별하는 기능을 담지 못함 TCP의 핵심


## 상세
1. 패킷들이 덩어리로 한번에 들어왔을 때 대응하지 못함
- 예제는 서버와 클라이언트 둘 다 로컬에서 같이 돌아가기 때문에 통신 자체가 굉장히 신속히 처리되고 있으나 클라이언트의 여러 요청이 쌓이는 경우에도 서버가 잘 처리할 수 있도록 해야함
- 서버에 의도적인 속도차이, 대기를 걸어두면 유사한 환경을 만들 수 있을 것
`
std::this_thread::sleep_for(std::chrono::milliseconds(100));
`

- 기존 코드는 한 요청을 처리하면 버퍼를 비우기 때문에 여러 패킷이 뭉쳤을때는 요청을 무시하고 있음

2. 버퍼의 크기를 넘긴 패킷에 대한 고려도 필요함
- 두 가지 경우가 가능할 것
- 클라이언트가 비정상적으로 큰 데이터를 보낸 경우 : 무리하게 대응하거나 처리하지 않아도 됨, 악의적인 공격일 가능성이 큼
- 여러 패킷이 뭉쳐서 정상적인 패킷이 버퍼 크기를 넘긴 경우 : 아직 처리하지 못한 부분을 복사한 후 추가적으로 읽고 데이터를 이어주는 작업이 필요할 것

3. 구조체 형변환을 적극적으로 활용하자
- 버퍼로 읽은 내용을 변수로 복사하는 과정은 불필요 
- 구조체 포인터로 형변환을 통해서 간단히 해결할 수 있는 내용이었다
- C/C++의 큰 장점이니 잘 활용하면 편리함